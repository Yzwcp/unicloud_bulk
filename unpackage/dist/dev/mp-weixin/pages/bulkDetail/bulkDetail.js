(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/bulkDetail/bulkDetail"],{157:function(n,e,t){"use strict";(function(n){t(5);i(t(3));var e=i(t(158));function i(n){return n&&n.__esModule?n:{default:n}}wx.__webpack_require_UNI_MP_PLUGIN__=t,n(e.default)}).call(this,t(1)["createPage"])},158:function(n,e,t){"use strict";t.r(e);var i=t(159),u=t(161);for(var o in u)"default"!==o&&function(n){t.d(e,n,(function(){return u[n]}))}(o);t(163);var r,c=t(11),a=Object(c["default"])(u["default"],i["render"],i["staticRenderFns"],!1,null,null,null,!1,i["components"],r);a.options.__file="pages/bulkDetail/bulkDetail.vue",e["default"]=a.exports},159:function(n,e,t){"use strict";t.r(e);var i=t(160);t.d(e,"render",(function(){return i["render"]})),t.d(e,"staticRenderFns",(function(){return i["staticRenderFns"]})),t.d(e,"recyclableRender",(function(){return i["recyclableRender"]})),t.d(e,"components",(function(){return i["components"]}))},160:function(n,e,t){"use strict";var i;t.r(e),t.d(e,"render",(function(){return u})),t.d(e,"staticRenderFns",(function(){return r})),t.d(e,"recyclableRender",(function(){return o})),t.d(e,"components",(function(){return i}));try{i={uSwiper:function(){return Promise.all([t.e("common/vendor"),t.e("node-modules/uview-ui/components/u-swiper/u-swiper")]).then(t.bind(null,231))},uCountDown:function(){return Promise.all([t.e("common/vendor"),t.e("node-modules/uview-ui/components/u-count-down/u-count-down")]).then(t.bind(null,239))},uTag:function(){return Promise.all([t.e("common/vendor"),t.e("node-modules/uview-ui/components/u-tag/u-tag")]).then(t.bind(null,248))},uIcon:function(){return Promise.all([t.e("common/vendor"),t.e("node-modules/uview-ui/components/u-icon/u-icon")]).then(t.bind(null,256))}}}catch(c){if(-1===c.message.indexOf("Cannot find module")||-1===c.message.indexOf(".vue"))throw c;console.error(c.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var u=function(){var n=this,e=n.$createElement;n._self._c},o=!1,r=[];u._withStripped=!0},161:function(n,e,t){"use strict";t.r(e);var i=t(162),u=t.n(i);for(var o in i)"default"!==o&&function(n){t.d(e,n,(function(){return i[n]}))}(o);e["default"]=u.a},162:function(n,e,t){"use strict";(function(n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=u(t(14));function u(n){return n&&n.__esModule?n:{default:n}}function o(n,e,t,i,u,o,r){try{var c=n[o](r),a=c.value}catch(s){return void t(s)}c.done?e(a):Promise.resolve(a).then(i,u)}function r(n){return function(){var e=this,t=arguments;return new Promise((function(i,u){var r=n.apply(e,t);function c(n){o(r,i,u,c,a,"next",n)}function a(n){o(r,i,u,c,a,"throw",n)}c(void 0)}))}}var c={data:function(){return{list5:["https://cdn.uviewui.com/uview/swiper/swiper3.png","https://cdn.uviewui.com/uview/swiper/swiper2.png","https://cdn.uviewui.com/uview/swiper/swiper1.png"],list6:["https://cdn.uviewui.com/uview/swiper/swiper2.png","https://cdn.uviewui.com/uview/swiper/swiper3.png","https://cdn.uviewui.com/uview/swiper/swiper1.png"],currentNum:0,allData:{},app:{},endtime:{},imageList:[],timer:null,isEnding:!1,timeData:{},time:9999999999}},onLoad:function(n){n._id&&this.initData({_id:n._id},"detail"),this.app=getApp().globalData},onUnload:function(){this.timer=null},methods:{initData:function(n,e){var t=this;this.$api.bulkcenter(n,e).then((function(n){if(console.log(n),n.success&&n.data&&n.data.affectedDocs>0){var e=n.data.data[0];t.allData=e;var i=[];e.content_img.length>0&&e.content_img.map((function(n){i.push(n.url)})),t.imageList=i,t.time=Number(e.endtime)-(new Date).getTime()>0?Number(e.endtime)-(new Date).getTime():0}})).finally((function(){}))},handleswiper:function(n){this.currentNum=n.current},longUrl:function(n){return n?n[0].url:""},handleCreateOrder:function(){var e=this;return r(i.default.mark((function t(){return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.isEnding){t.next=2;break}return t.abrupt("return",n.showToast({title:"活动结束！",icon:"none"}));case 2:return t.next=4,e.$store.dispatch("login");case 4:e.$api.bulkordercenter({bulk_id:e.allData._id},"add").then((function(e){var t=e.data,i=e.success,u="活动参加成功！";!i&&t&&t._id&&(u="这个活动已经开始!..."),n.showToast({title:u,icon:"none",duration:2e3,success:function(){setTimeout((function(){n.navigateTo({url:"/pages/myBulk/myBulk?_id="+t._id})}),1500)}})}));case 5:case"end":return t.stop()}}),t)})))()},open:function(){n.showModal({title:"运费模板",content:"新疆、西藏、宁夏、青海、内蒙古、海南（备选项：甘肃、云南、黑龙江、吉林、辽宁、山西）港澳台、海外。等偏远地区不发货"})},onChange:function(n){this.timeData=n},finish:function(){this.isEnding=!0}}};e.default=c}).call(this,t(1)["default"])},163:function(n,e,t){"use strict";t.r(e);var i=t(164),u=t.n(i);for(var o in i)"default"!==o&&function(n){t.d(e,n,(function(){return i[n]}))}(o);e["default"]=u.a},164:function(n,e,t){}},[[157,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/bulkDetail/bulkDetail.js.map